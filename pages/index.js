import Head from 'next/head';
import Banner from '../components/banner/Banner';
import SectionCard from '../components/card/SectionCard';
import Navbar from '../components/navbar/Navbar';
import { getPopulerVideos, getVideos } from '../lib/Videos';

export async function getServerSideProps() {
  const disneyVideo = await getVideos('disney trailer');

  const productivityVideo = await getVideos('Productivity');
  const travelVideo = await getVideos('travel');
  const populerVideo = await getPopulerVideos();
  return {
    props: { disneyVideo, productivityVideo, travelVideo, populerVideo },
  };
}

export default function Home({
  disneyVideo,
  productivityVideo,
  travelVideo,
  populerVideo,
}) {
  return (
    <div className="bg-black">
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <Navbar userName="daud@gmail.com" />

      <Banner
        title="this is movie title"
        subTitle="this is sub title"
        imgUrl="/static/download.jpg"
      />

      <div>
        <SectionCard title="Desney" videos={disneyVideo} />
        <SectionCard title="Productivity" videos={productivityVideo} />
        <SectionCard title="Travel" videos={travelVideo} />
        <SectionCard title="Populer" videos={populerVideo} />
      </div>
    </div>
  );
}
